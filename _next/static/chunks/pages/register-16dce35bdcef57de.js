(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{2072:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(3579)}])},3346:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.text,n=e.icon,a=e.onClick;return(0,r.jsxs)("button",{onClick:a,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:[n,(0,r.jsx)("span",{children:t})]})}},6268:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),a=n(9008),s=(n(7294),n(1664)),c=function(e){var t=e.title;e.menu;return(0,r.jsx)("nav",{className:"sticky top-0 py-5 bg-gray-700 text-white opacity-80 z-50",children:(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)("a",{className:"px-5 absolute left-0",children:(0,r.jsx)("div",{className:"self-center text-lg font-semibold whitespace-nowrap",children:t})})})})})},i="SShelf";function l(e){var t=e.children;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"/svg+xml"}),(0,r.jsx)("meta",{name:"description",content:"Searchable Shelf\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002"}),(0,r.jsx)("meta",{name:"og:title",content:i}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"})]}),(0,r.jsx)(c,{title:i,menu:[{name:"aaa",path:"/"},{name:"bbb",path:"/"}]}),(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsx)("main",{children:t})})]})}},1916:function(e,t,n){"use strict";n.d(t,{CA:function(){return r},dB:function(){return a},QI:function(){return s}});var r=[{id:1,name:"\uff12\uff0e\uff11\uff4d\uff4d\u6a19\u6e96\uff24\uff23\u30b8\u30e3\u30c3\u30af\u3000\u30d1\u30cd\u30eb\u53d6\u4ed8\u7528\u3000\uff12\uff12\uff11\uff19\uff16",count:10,shelf_id:1,memo:"\u30c7\u30e2\u30c7\u30fc\u30bf",created_at:"2019-10-04 15:25:07",updated_at:"2019-10-04 15:25:07"},{id:2,name:"\uff12\uff0e\uff11\uff4d\uff4d\u6a19\u6e96\uff24\uff23\u30d7\u30e9\u30b0\u3000\uff2d\uff30\uff0d\uff11\uff12\uff11\uff2d",count:10,shelf_id:2,memo:"\u30c7\u30e2\u30c7\u30fc\u30bf",created_at:"2019-10-04 15:25:07",updated_at:"2019-10-04 15:25:07"},{id:3,name:"\u30d1\u30cd\u30eb\u7528\u62bc\u3057\u30dc\u30bf\u30f3\u30b9\u30a4\u30c3\u30c1\u3000\u30e2\u30fc\u30e1\u30f3\u30bf\u30ea\u3000\u4e38\u578b\u3000\u7dd1",count:1,shelf_id:3,memo:"\u30e2\u30c7\u30e2\u30fc\u30bf",created_at:"2019-10-04 15:25:07",updated_at:"2019-10-04 15:25:07"}],a=[{id:1,name:"\u5f15\u304d\u51fa\u30571",port:0,memo:"\u30c7\u30e2\u30c7\u30fc\u30bf",created_at:"2019-10-04 15:25:07"},{id:2,name:"\u5f15\u304d\u51fa\u30572",port:1,memo:"\u30c7\u30e2\u30c7\u30fc\u30bf",created_at:"2019-10-04 15:25:07"},{id:3,name:"\u5f15\u304d\u51fa\u30573",port:2,memo:"\u3067\u3082\u30c7\u30fc\u30bf",created_at:"2019-10-04 15:25:07"}];function s(e){return r.filter((function(t){return-1!=t.name.indexOf(e)}))}},3579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(5893),a=n(9008),s=n(6268),c=n(7294),i=function(e){var t=e.rows,n=e.placeholder,a=e.onChange;return(0,r.jsx)("textarea",{className:" form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none ",rows:t,placeholder:n,onChange:a})},l=n(4051),o=n.n(l),d=n(3346),u=n(9669),h=n.n(u),x=n(444);function f(e,t,n,r,a,s,c){try{var i=e[s](c),l=i.value}catch(o){return void n(o)}i.done?t(l):Promise.resolve(l).then(r,a)}var m=function(e){var t=e.parts,n=e.shelfs,a=e.onRegist,s=(0,c.useState)(""),l=s[0],u=s[1],m=(0,c.useState)(!1),p=m[0],g=m[1],j=(0,c.useState)(!1),v=j[0],y=j[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-5",children:(0,r.jsx)("div",{className:"relative overflow-x-auto sm:rounded-lg border",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u901a\u8ca9\u30b3\u30fc\u30c9"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u90e8\u54c1\u540d"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u500b\u6570"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u53ce\u7d0d\u5834\u6240"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\u30e1\u30e2"})]})}),(0,r.jsx)("tbody",{children:t.map((function(e,a){return(0,r.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:e.code}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.count}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state",onChange:function(e){return t[a].shelf_id=Number(e.target.value)},children:n.map((function(e){return(0,r.jsx)("option",{value:e.id,children:e.name},e.id)}))}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,r.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)(i,{onChange:function(e){return t[a].memo=e.target.value}})})]},a)}))})]})})}),(0,r.jsx)("div",{className:"flex justify-center",children:l}),(0,r.jsxs)("div",{className:"flex justify-center",onClick:function(){console.log(t)},children:[!p&&(0,r.jsx)(d.Z,{text:"\u767b\u9332",onClick:function(e){g(!0),y(!0),u("\u4eca\u56de\u3082\u8272\u3005\u8cb7\u3044\u307e\u3057\u305f\u306d\u3002"),Promise.all(t.map(function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().post("http://searchable-shelf.local/api/parts",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){f(s,r,a,c,i,"next",e)}function i(e){f(s,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}())).then((function(e){y(!1),u("\u767b\u9332\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01"),a&&a()})).catch((function(e){y(!1),u("\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30ed\u30fc\u30ab\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306bSShelf\u304c\u3042\u308a\u307e\u305b\u3093\u3002")}))}}),v&&(0,r.jsx)(x.gy,{})]})]})};var p=n(1916),g=function(){var e=(0,c.useState)([]),t=e[0],n=e[1],l=(0,c.useState)([]),o=l[0],d=l[1];return(0,c.useEffect)((function(){console.log("effect"),h().get("http://searchable-shelf.local/api/shelfs").then((function(e){d(e.data)})).catch((function(e){d(p.dB)}))}),[]),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(a.default,{children:(0,r.jsx)("title",{children:"SShelf | \u90e8\u54c1\u8ffd\u52a0\u30da\u30fc\u30b8"})}),(0,r.jsx)("h2",{className:"mt-5 py-4 font-bold text-2xl",children:"\u90e8\u54c1\u767b\u9332"}),(0,r.jsx)("div",{children:"\u90e8\u54c1\u4e00\u89a7\u3092\u8cfc\u5165\u5c65\u6b74\u304b\u3089\u30b3\u30d4\u30da\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),(0,r.jsx)("div",{className:"my-3",children:(0,r.jsx)(i,{rows:10,placeholder:"\u4eca\u56de\u306f\u3069\u308c\u3060\u3051\u8cb7\u3044\u307e\u3057\u305f\u304b\uff1f",onChange:function(e){var t=function(e){var t=e.split(/\r\n|\n/),n=[];return t.forEach((function(e){var t=e.split("\t"),r={code:t[0],name:t[1].slice(0,t[1].length/2),count:parseInt(t[2].replace(/[^0-9]/g,"")),shelf_id:-1,memo:""};n.push(r)})),n}(e.target.value);t.map((function(e){return e.shelf_id=o[0].id})),n(t)}})}),(0,r.jsx)("h2",{className:"mt-5 py-4 font-bold text-2xl",children:"\u4e00\u89a7\u8868"}),(0,r.jsx)("div",{className:"mb-5",children:(0,r.jsx)(m,{parts:t,shelfs:o})})]})}}},function(e){e.O(0,[398,444,774,888,179],(function(){return t=2072,e(e.s=t);var t}));var t=e.O();_N_E=t}]);